(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6da25904"],{"2f94":function(e,n,a){a.d(n,"e",function(){return o}),a.d(n,"f",function(){return i}),a.d(n,"b",function(){return r}),a.d(n,"a",function(){return s}),a.d(n,"c",function(){return d}),a.d(n,"d",function(){return c});var t=a("ff66");function o(){return Object(t.d)({url:"/buyer/member/address",needToken:!0,method:t.a.GET})}function i(e){return Object(t.d)({url:"/buyer/member/address",needToken:!0,method:t.a.POST,data:e})}function r(e){return Object(t.d)({url:"/buyer/member/address",needToken:!0,method:t.a.PUT,params:e})}function s(e){return Object(t.d)({url:"/buyer/member/address/delById/"+e,needToken:!0,method:t.a.DELETE})}function d(e){return Object(t.d)({url:"/buyer/member/address/get/"+e,needToken:!0,method:t.a.GET})}function c(e){return Object(t.d)({url:t.c+"/common/common/region/region",needToken:!0,method:t.a.GET,params:e})}},"44d9":function(e,n,a){a("bc43")},"6f49":function(e,n,a){},"7dfd":function(e,n,a){a.r(n),a.d(n,"mobile",function(){return t}),a.d(n,"email",function(){return o}),a.d(n,"password",function(){return i}),a.d(n,"integer",function(){return r}),a.d(n,"Integer",function(){return s}),a.d(n,"money",function(){return d}),a.d(n,"TINumber",function(){return c}),a.d(n,"IDCard",function(){return p}),a.d(n,"userName",function(){return l}),a.d(n,"URL",function(){return u}),a.d(n,"TEL",function(){return f}),a.d(n,"licenseNum",function(){return h});let t=/^0?(13[0-9]|14[0-9]|15[0-9]|16[0-9]|17[0-9]|18[0-9]|19[0-9])[0-9]{8}$/,o=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,i=/^[@A-Za-z0-9!#$%^&*.~,]{6,20}$/,r=/^[1-9]\d*$/,s=/^[0-9]\d*$/,d=/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,c=/^((\d{6}[0-9A-Z]{9})|([0-9A-Za-z]{2}\d{6}[0-9A-Za-z]{10,12}))$/,p=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,l=/[A-Za-z0-9_\-\u4e00-\u9fa5]$/,u=/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/,f=/0\d{2,3}-\d{7,8}/,h=/(^(?:(?![IOZSV])[\dA-Z]){2}\d{6}(?:(?![IOZSV])[\dA-Z]){10}$)|(^\d{15}$)/},"862d":function(e,n,a){e.exports=(()=>{function s(e){var r,s,n=[];return e.AMapUI&&n.push((s=e.AMapUI,new Promise(function(t,n){var e,a,o=[];if(s.plugins)for(var i=0;i<s.plugins.length;i+=1)-1==c.AMapUI.plugins.indexOf(s.plugins[i])&&o.push(s.plugins[i]);p.AMapUI===d.failed?n("前次请求 AMapUI 失败"):p.AMapUI===d.notload?(p.AMapUI=d.loading,c.AMapUI.version=s.version||c.AMapUI.version,i=c.AMapUI.version,e=document.body||document.head,(a=document.createElement("script")).type="text/javascript",a.src="https://webapi.amap.com/ui/"+i+"/main.js",a.onerror=function(e){p.AMapUI=d.failed,n("请求 AMapUI 失败")},a.onload=function(){if(p.AMapUI=d.loaded,o.length)window.AMapUI.loadUI(o,function(){for(var e=0,n=o.length;e<n;e++){var a=o[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}for(t();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()});else for(t();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()},e.appendChild(a)):p.AMapUI===d.loaded?s.version&&s.version!==c.AMapUI.version?n("不允许多个版本 AMapUI 混用"):o.length?window.AMapUI.loadUI(o,function(){for(var e=0,n=o.length;e<n;e++){var a=o[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}t()}):t():s.version&&s.version!==c.AMapUI.version?n("不允许多个版本 AMapUI 混用"):l.AMapUI.push(function(e){e?n(e):o.length?window.AMapUI.loadUI(o,function(){for(var e=0,n=o.length;e<n;e++){var a=o[e].split("/").slice(-1)[0];window.AMapUI[a]=arguments[e]}t()}):t()})}))),e.Loca&&n.push((r=e.Loca,new Promise(function(e,n){var a,t,o,i;c.AMap.version.startsWith("2.0")?n("Loca 暂不适配 JSAPI 2.0,请使用 1.4.15"):p.Loca===d.failed?n("前次请求 Loca 失败"):p.Loca===d.notload?(p.Loca=d.loading,c.Loca.version=r.version||c.Loca.version,a=c.Loca.version,t=c.key,o=document.body||document.head,(i=document.createElement("script")).type="text/javascript",i.src="https://webapi.amap.com/loca?v="+a+"&key="+t,i.onerror=function(e){p.Loca=d.failed,n("请求 AMapUI 失败")},i.onload=function(){for(p.Loca=d.loaded,e();l.Loca.length;)l.Loca.splice(0,1)[0]()},o.appendChild(i)):p.Loca===d.loaded?r.version&&r.version!==c.Loca.version?n("不允许多个版本 Loca 混用"):e():r.version&&r.version!==c.Loca.version?n("不允许多个版本 Loca 混用"):l.Loca.push(function(e){e?n(e):n()})}))),Promise.all(n)}var d,e,c,p,l,u;if(window)return(e=d=d||{}).notload="notload",e.loading="loading",e.loaded="loaded",e.failed="failed",c={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},p={AMap:d.notload,AMapUI:d.notload,Loca:d.notload},l={AMap:[],AMapUI:[],Loca:[]},u=[],{load:function(r){return new Promise(function(n,a){if(p.AMap==d.failed)a("");else if(p.AMap==d.notload){var e=r.key,t=r.version,o=r.plugins;e?(window.AMap&&"lbs.amap.com"!==location.host&&a("禁止多种API加载方式混用"),c.key=e,c.AMap.version=t||c.AMap.version,c.AMap.plugins=o||c.AMap.plugins,p.AMap=d.loading,t=document.body||document.head,window.___onAPILoaded=function(e){if(delete window.___onAPILoaded,e)p.AMap=d.failed,a(e);else for(p.AMap=d.loaded,s(r).then(function(){n(window.AMap)}).catch(a);u.length;)u.splice(0,1)[0]()},(o=document.createElement("script")).type="text/javascript",o.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+c.AMap.version+"&key="+e+"&plugin="+c.AMap.plugins.join(","),o.onerror=function(e){p.AMap=d.failed,a(e)},t.appendChild(o)):a("请填写key")}else if(p.AMap==d.loaded)if(r.key&&r.key!==c.key)a("多个不一致的 key");else if(r.version&&r.version!==c.AMap.version)a("不允许多个版本 JSAPI 混用");else{if(e=[],r.plugins)for(t=0;t<r.plugins.length;t+=1)-1==c.AMap.plugins.indexOf(r.plugins[t])&&e.push(r.plugins[t]);e.length?window.AMap.plugin(e,function(){s(r).then(function(){n(window.AMap)}).catch(a)}):s(r).then(function(){n(window.AMap)}).catch(a)}else if(r.key&&r.key!==c.key)a("多个不一致的 key");else if(r.version&&r.version!==c.AMap.version)a("不允许多个版本 JSAPI 混用");else{var i=[];if(r.plugins)for(t=0;t<r.plugins.length;t+=1)-1==c.AMap.plugins.indexOf(r.plugins[t])&&i.push(r.plugins[t]);"function"==typeof(o=function(){i.length?window.AMap.plugin(i,function(){s(r).then(function(){n(window.AMap)}).catch(a)}):s(r).then(function(){n(window.AMap)}).catch(a)})&&(p.AMap===d.loaded?o(window.AMap):u.push(o))}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,c={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},p={AMap:d.notload,AMapUI:d.notload,Loca:d.notload},l={AMap:[],AMapUI:[],Loca:[]}}};throw Error("AMap JSAPI can only be used in Browser.")})()},a5d4:function(e,n,a){var t=a("f121"),o=a("862d"),i=a.n(o),r=a("2f94");let s=a("f121");var o={name:"map",data(){return{config:s,showMap:!1,mapSearch:"",map:null,autoComplete:null,geocoder:null,positionPicker:null,tips:[],addrContent:{},loading:!1}},watch:{mapSearch:function(e){this.searchOfMap(e)}},methods:{ok(){var e;this.addrContent&&this.addrContent.regeocode?(e={cityCode:this.addrContent.regeocode.addressComponent.citycode,townName:this.addrContent.regeocode.addressComponent.township},Object(r.d)(e).then(e=>{e.success&&(this.addrContent.addr=e.result.name.replace(/,/g," "),this.addrContent.addrId=e.result.id,this.loading=!1,this.$emit("getAddress",this.addrContent))})):this.$Message.error("未获取到坐标信息！请查看高德API配置是否正确")},init(){i.a.load({key:this.config.aMapKey,version:"",plugins:["AMap.ToolBar","AMap.Autocomplete","AMap.PlaceSearch","AMap.Geolocation","AMap.Geocoder"],AMapUI:{version:"1.1",plugins:["misc/PositionPicker"]}}).then(e=>{let n=this;this.map=new e.Map("map-container",{zoom:12}),n.map.addControl(new e.ToolBar),n.map.addControl(new e.Autocomplete),n.map.addControl(new e.PlaceSearch),n.map.addControl(new e.Geocoder);var a={city:"全国"};n.autoComplete=new e.Autocomplete(a),n.geocoder=new e.Geocoder(a),n.positionPicker=new AMapUI.PositionPicker({mode:"dragMap",map:n.map}),n.positionPicker.start(),n.positionPicker.on("success",function(e){n.addrContent=e})}).catch(e=>{})},searchOfMap(e){let a=this;this.autoComplete.search(e,function(e,n){"complete"==e&&"OK"==n.info?a.tips=n.tips:a.tips=[]})},selectAddr(e){if(!e)return this.$Message.warning("请选择正确点位"),!1;e=[e.lng,e.lat];this.positionPicker.start(e)}},mounted(){this.init()}},d=(a("44d9"),a("2877")),o=Object(d.a)(o,function(){var a=this,t=a._self._c;return t("div",{staticClass:"map"},[t("div",{staticClass:"address"},[a._v(a._s(a.addrContent.address))]),t("div",{attrs:{id:"map-container"}}),t("div",{staticClass:"search-con"},[t("Input",{attrs:{placeholder:"输入关键字搜索",id:"input-map"},model:{value:a.mapSearch,callback:function(e){a.mapSearch=e},expression:"mapSearch"}}),t("ul",a._l(a.tips,function(n,e){return t("li",{key:e,on:{click:function(e){return a.selectAddr(n.location)}}},[t("p",[a._v(a._s(n.name))]),t("p",[a._v(a._s(n.district+n.address))])])}),0)],1),t("div",{staticClass:"footer",attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"primary",loading:a.loading},on:{click:a.ok}},[a._v("确定")])],1)])},[],!1,null,"5534cbf6",null).exports,c=a("2934"),o={components:{mapping:o},data(){return{aMapSwitch:t.aMapSwitch,enableMap:!1,mapDefault:"select",data:{province:[],city:[],area:[],street:[]},chiosend:[]}},mounted(){this.chiosend=new Array(4).fill("")},methods:{open(){this.enableMap=!0,this.init({id:0},"province")},changeMap(e){this.mapDefault=e},init(n,a="province",t){0==a?this.chiosend.splice(3,1,n):c.f(n.id).then(e=>{(e.result.length&&0!==n.id||!e.result.length)&&(this.chiosend[t]=n),this.data[a]=e.result,"city"==a&&(this.data.area=[],this.data.street=[],this.chiosend.splice(1,3,"","","")),"area"==a&&(this.data.street=[],this.chiosend.splice(2,2,"","")),"street"==a&&this.chiosend.splice(3,1,"")})},getAddress(e){this.$emit("callback",{type:this.mapDefault,data:e}),this.enableMap=!1},finished(){var e;this.chiosend[0]?(e=this.chiosend.filter(e=>""!==e&&""!==e.value),this.enableMap=!1,this.$emit("callback",{type:this.mapDefault,data:e})):this.$Message.error("请选择地址")}}},a=(a("b0eb"),Object(d.a)(o,function(){var t=this,o=t._self._c;return o("Modal",{attrs:{width:"800","footer-hide":""},model:{value:t.enableMap,callback:function(e){t.enableMap=e},expression:"enableMap"}},[o("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.changeMap},model:{value:t.mapDefault,callback:function(e){t.mapDefault=e},expression:"mapDefault"}},[o("Radio",{attrs:{label:"select"}},[t._v("级联选择")]),t.aMapSwitch?o("Radio",{attrs:{label:"map"}},[t._v("高德地图")]):t._e()],1),o("div",["select"===t.mapDefault?o("div",[o("div",{staticClass:"selector"},t._l(Object.keys(t.data),function(e,a){return o("div",{key:a,staticClass:"selector-item"},t._l(t.data[e],function(n,e){return o("div",{key:e,staticClass:"map-item",class:{active:t.chiosend[a].id==n.id},on:{click:function(e){t.init(n,a!=Object.keys(t.data).length-1?Object.keys(t.data)[a+1]:0,a)}}},[t._v(" "+t._s(n.name)+" ")])}),0)}),0),o("div",{staticClass:"footer"},[o("Button",{attrs:{type:"primary"},on:{click:t.finished}},[t._v("确定")])],1)]):t._e(),"map"===t.mapDefault?o("mapping",{ref:"map",on:{getAddress:t.getAddress}}):t._e()],1)],1)},[],!1,null,"10cc8e84",null));n.a=a.exports},b0eb:function(e,n,a){a("6f49")},bc43:function(e,n,a){}}]);