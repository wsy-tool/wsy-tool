(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7ab51d8e"],{7612:function(s,t,a){},d04c:function(s,t,a){a.r(t);var e=a("8194"),i={name:"Coupons",data(){return{statusNameList:["未使用","已使用","已过期"],statusList:["NEW","USED","EXPIRE"],loading:!1,params:{pageNumber:1,pageSize:10,memberCouponStatus:"NEW"},total:0,list:[]}},methods:{getList(){this.loading=!0,Object(e.L)(this.params).then(s=>{this.loading=!1,s.success&&(this.list=s.result.records,this.total=s.result.total)})},change(s){this.params.memberCouponStatus=this.statusList[s],this.params.pageNumber=1,this.getList()},go(s){"NEW"===this.params.memberCouponStatus&&this.$router.push({path:"/goodsList",query:{promotionsId:s.couponId,promotionType:"COUPON"}})},changePageNum(s){this.params.pageNumber=s,this.getList()},changePageSize(s){this.params.pageNumber=1,this.params.pageSize=s,this.getList()},useScope(s,t){let a="平台",e="全部商品";switch("platform"!==t&&(a=t),s){case"ALL":e="全部商品";break;case"PORTION_GOODS":e="部分商品";break;case"PORTION_GOODS_CATEGORY":e="部分分类商品"}return""+a+e+"可用"}},mounted(){this.getList()}},a=(a("d45e"),a("2877")),a=Object(a.a)(i,function(){var a=this,e=a._self._c;return e("div",{staticClass:"wrapper"},[e("card",{attrs:{_Title:"优惠券列表",_Tabs:a.statusNameList},on:{_Change:a.change}}),0==a.list.length?e("empty"):e("ul",{staticClass:"coupon-list"},a._l(a.list,function(t,s){return e("li",{key:s,staticClass:"coupon-item"},[e("div",{staticClass:"c-left"},[e("div",["PRICE"===t.couponType?e("span",{staticClass:"fontsize_12 global_color"},[a._v("￥"),e("span",{staticClass:"price"},[a._v(a._s(a._f("unitPrice")(t.price)))])]):a._e(),"DISCOUNT"===t.couponType?e("span",{staticClass:"fontsize_12 global_color"},[e("span",{staticClass:"price"},[a._v(a._s(t.discount))]),a._v("折")]):a._e(),e("span",{staticClass:"describe"},[a._v("满"+a._s(t.consumeThreshold)+"元可用")])]),e("p",[a._v("使用范围："+a._s(a.useScope(t.scopeType,t.storeName)))]),e("p",[a._v("有效期："+a._s(t.endTime))])]),e("b"),e("a",{staticClass:"c-right",class:{"canot-use":"NEW"!==a.params.memberCouponStatus},on:{click:function(s){return a.go(t)}}},[a._v("立即使用")]),e("i",{staticClass:"circle-top"}),e("i",{staticClass:"circle-bottom"})])}),0),e("Page",{staticClass:"pageration",attrs:{total:a.total,"page-size":a.params.pageSize,"show-total":"","show-sizer":""},on:{"on-change":a.changePageNum,"on-page-size-change":a.changePageSize}}),a.loading?e("Spin",{attrs:{fix:""}}):a._e()],1)},[],!1,null,"27d37685",null);t.default=a.exports},d45e:function(s,t,a){a("7612")}}]);