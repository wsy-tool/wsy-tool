(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e9af11aa"],{"77a6":function(t,s,e){e("f270")},"78c0":function(t,s,e){e.r(s);var a=e("8194"),i={name:"Favorites",props:{homePage:{type:Boolean,default:!1}},data(){return{favoriteWay:["收藏商品","收藏店铺"],list:[],total:0,params:{pageNumber:1,pageSize:100,type:this.$route.query.type||"GOODS"},spinShow:!1}},methods:{getList(){this.spinShow=!0,Object(a.q)(this.params).then(t=>{this.spinShow=!1,t.success&&(this.list=t.result.records)})},getStoreList(){this.spinShow=!0,Object(a.T)(this.params).then(t=>{this.spinShow=!1,t.success&&(this.list=t.result.records)})},change(t){0===t&&(this.params.type="GOODS",this.getList()),1===t&&(this.params.type="STORE",this.getStoreList())},cancel(t){var s="GOODS"===this.params.type?"商品":"店铺";this.$Modal.confirm({title:"Title",content:`<p>确定取消收藏该${s}吗？</p>`,onOk:()=>{Object(a.k)(this.params.type,t).then(t=>{t.success&&this.getList()})}})},cancelStore(t){var s="GOODS"===this.params.type?"商品":"店铺";this.$Modal.confirm({title:"Title",content:`<p>确定取消收藏该${s}吗？</p>`,onOk:()=>{Object(a.l)(this.params.type,t).then(t=>{t.success&&this.getStoreList()})}})},buynow(t,s,e){e="STORE"===this.params.type?this.$router.resolve({path:"/Merchant",query:{id:e}}):this.$router.resolve({path:"/goodsDetail",query:{skuId:t,goodsId:s}});window.open(e.href,"_blank")},goShop(t){t=this.$router.resolve({path:"/merchant",query:{id:t}});window.open(t.href,"_blank")}},mounted(){this.homePage&&(this.params.pageSize=5),this.getList()}},e=(e("77a6"),e("2877")),e=Object(e.a)(i,function(){var e=this,a=e._self._c;return a("div",{staticClass:"wrapper"},[a("card",e.homePage?{attrs:{_Title:"近期收藏",_Size:16,_Tabs:e.favoriteWay,_More:"全部收藏",_Src:"/home/Favorites"},on:{_Change:e.change}}:{attrs:{_Title:"近期收藏",_Tabs:e.favoriteWay,_Size:16},on:{_Change:e.change}}),e.list.length?a("div",[e._l(e.list,function(s,t){return a("div",{key:t},[a("div",{key:s.skuId,staticClass:"goodsItem"},["GOODS"===e.params.type?a("div",{staticClass:"goodsImg hover-pointer"},[a("img",{attrs:{src:s.image}})]):a("div",{staticClass:"goodsImg hover-pointer"},[a("img",{attrs:{src:s.storeLogo}})]),"GOODS"===e.params.type?a("div",{staticClass:"goodsTitle hover-color",on:{click:function(t){return e.buynow(s.skuId,s.goodsId,s.id)}}},[e._v(" "+e._s(s.goodsName)+" ")]):a("div",{staticClass:"goodsTitle hover-pointer",on:{click:function(t){return e.buynow(s.skuId,s.goodsId,s.id)}}},[e._v(" "+e._s(s.storeName)+" "),s.selfOperated?a("Tag",{staticClass:"operated",attrs:{color:"error"}},[e._v("商家自营")]):e._e()],1),a("div",{staticClass:"goodsPrice"},["GOODS"===e.params.type?a("span",[e._v(e._s(e._f("unitPrice")(s.price,"￥")))]):e._e()]),a("div",{staticClass:"goodsBuy"},["GOODS"===e.params.type?a("Button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.buynow(s.skuId,s.goodsId)}}},[e._v("立即购买")]):a("Button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.goShop(s.id)}}},[e._v("店铺购买")]),"GOODS"===e.params.type?a("Button",{attrs:{size:"small"},on:{click:function(t){return e.cancel(s.skuId)}}},[e._v("取消收藏")]):e._e(),"STORE"===e.params.type?a("Button",{attrs:{size:"small"},on:{click:function(t){return e.cancelStore(s.id)}}},[e._v("取消收藏")]):e._e()],1)])])}),e.spinShow?a("Spin",{attrs:{size:"large",fix:""}}):e._e()],2):a("empty")],1)},[],!1,null,"56ceca7a",null);s.default=e.exports},f270:function(t,s,e){}}]);